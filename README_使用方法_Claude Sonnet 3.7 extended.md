# 에스페란토 한자 변환 및 루비 주석 도구 사용 설명서

## 목차
1. 앱 개요
2. 메인 기능
3. 메인 페이지 사용 방법
4. JSON 생성 도구 사용 방법
5. 고급 설정
6. 자주 묻는 질문

---

## 1. 앱 개요

이 애플리케이션은 에스페란토 문장을 한자로 변환하거나 HTML 형식의 루비 주석을 추가하는 도구입니다. 특히 에스페란토 어근과 접사의 의미를 시각적으로 이해하기 쉽게 표현할 수 있습니다. 에스페란토 학습자들이 단어의 구조와 의미를 더 쉽게 파악할 수 있도록 도와주는 교육용 도구로 활용할 수 있습니다.

### 주요 특징:
- 에스페란토 문장의 한자 변환
- HTML 형식의 루비 주석 적용
- 다양한 출력 형식 지원
- 사용자 정의 치환 규칙 생성 기능
- 병렬 처리를 통한 대용량 텍스트 처리

---

## 2. 메인 기능

### 2.1 에스페란토 문장 한자 변환
에스페란토 문장을 입력하면 어근과 접사를 분석하여 해당하는 한자나 한국어 의미로 변환합니다. 예를 들어 "amiko"(친구)라는 단어는 "am"(사랑) + "ik"(관련된) + "o"(명사 어미)로 분석되어 각 부분에 해당하는 한자나 의미가 표시됩니다.

### 2.2 루비 주석 기능
HTML의 루비(ruby) 태그를 사용하여 에스페란토 단어 위에 한자나 의미를 작은 글씨로 표시합니다. 이를 통해 원문을 유지하면서도 각 어근과 접사의 의미를 시각적으로 확인할 수 있습니다.

### 2.3 다양한 출력 형식
다음과 같은 다양한 출력 형식을 지원합니다:
- **HTML형식_루비 문자의 크기조정**: 루비 텍스트의 크기를 자동으로 조정하는 HTML 형식
- **HTML형식_루비 문자의 크기조정_한자치환**: 위와 같지만 한자가 주 텍스트가 되고 에스페란토가 루비가 됨
- **HTML형식**: 기본 HTML 루비 형식
- **HTML형식_한자치환**: 기본 HTML 형식에서 한자가 주 텍스트
- **괄호 형식**: 루비 대신 괄호로 표시 (예: amiko(친구))
- **괄호 형식_한자치환**: 한자가 주 텍스트 (예: 친구(amiko))
- **치환 후 문자열만 유지**: 변환 결과만 표시

---

## 3. 메인 페이지 사용 방법

### 3.1 기본 작업 흐름
1. 치환용 JSON 파일 선택 (기본값 또는 업로드)
2. 출력 형식 선택
3. 에스페란토 텍스트 입력 또는 파일 업로드
4. 출력 문자 형식 선택 (상단 첨자, x 형식, ^ 형식)
5. 전송 버튼 클릭
6. 결과 확인 및 다운로드

### 3.2 단계별 사용법

#### 3.2.1 JSON 파일 선택
첫 번째 단계에서는 치환에 사용할 JSON 파일을 선택합니다:
- **기본값 사용**: 시스템에 내장된 기본 JSON 파일을 사용합니다.
- **업로드하기**: 사용자가 직접 만든 JSON 파일을 업로드합니다.

샘플 JSON 파일은 "샘플 JSON(치환용 JSON 파일)" 확장 가능한 섹션에서 다운로드할 수 있습니다.

#### 3.2.2 고급 설정 (병렬 처리)
대용량 텍스트 처리 시 병렬 처리를 활성화하여 속도를 향상시킬 수 있습니다:
- **병렬 처리를 사용하기**: 체크박스를 선택하여 활성화
- **동시 프로세스 수**: 2~4 사이의 값 선택 (기본값: 4)

#### 3.2.3 출력 형식 선택
변환된 텍스트의 표시 방식을 선택합니다:
- 루비 형식 (HTML 기반)
- 괄호 형식
- 단순 치환 형식

#### 3.2.4 텍스트 입력 방법 선택
에스페란토 텍스트를 입력하는 방법을 선택합니다:
- **직접 입력**: 텍스트 영역에 직접 에스페란토 문장 입력
- **파일 업로드**: UTF-8 인코딩의 텍스트 파일 업로드

#### 3.2.5 특수 마크업 사용법
텍스트 입력 시 다음과 같은 특수 마크업을 사용할 수 있습니다:
- **%로 감싸기**: `%텍스트%` 형식으로 입력하면 해당 부분은 치환되지 않고 원문 그대로 유지됩니다. 최대 50자까지 입력 가능합니다.
- **@로 감싸기**: `@텍스트@` 형식으로 입력하면 해당 부분만 국소적으로 치환됩니다. 최대 18자까지 입력 가능합니다.

#### 3.2.6 출력 문자 형식 선택
에스페란토 특수 문자의 표시 방법을 선택합니다:
- **상단 첨자**: ĉ, ĝ, ĥ, ĵ, ŝ, ŭ 형식
- **x 형식**: cx, gx, hx, jx, sx, ux 형식
- **^ 형식**: c^, g^, h^, j^, s^, u^ 형식

#### 3.2.7 결과 확인 및 다운로드
변환 후 결과를 다음과 같이 확인할 수 있습니다:
- HTML 형식 선택 시: "HTML 미리보기"와 "치환 결과(HTML 소스 코드)" 탭에서 확인
- 기타 형식: "치환 결과 텍스트" 탭에서 확인

"치환 결과 다운로드" 버튼을 클릭하여 결과를 HTML 파일로 다운로드할 수 있습니다.

---

## 4. JSON 생성 도구 사용 방법

JSON 생성 도구는 메인 페이지에서 사용할 치환용 JSON 파일을 직접 만들 수 있는 기능을 제공합니다. 이 도구를 사용하면 자신만의 에스페란토-한국어/한자 대응 목록을 만들 수 있습니다.

### 4.1 기본 작업 흐름
1. CSV 파일 준비 (에스페란토 어근-한국어/한자 대응 목록)
2. 에스페란토 단어 어근 분해법 JSON 파일 준비
3. 치환 후 문자열 사용자 설정 JSON 파일 준비
4. 출력 형식 선택
5. 고급 설정 (병렬 처리) 설정
6. "치환용 JSON 파일 생성하기" 버튼 클릭
7. 생성된 JSON 파일 다운로드

### 4.2 단계별 사용법

#### 4.2.1 CSV 파일 준비
에스페란토 어근과 한국어 번역 또는 한자를 매핑한 CSV 파일을 준비합니다:
- **업로드하기**: 직접 만든 CSV 파일을 업로드합니다.
- **기본값 사용**: 시스템에 내장된 기본 CSV 파일을 사용합니다.

샘플 파일은 "샘플 파일 목록" 섹션에서 다운로드할 수 있습니다:
- 샘플 CSV1: 에스페란토 어근-한국어 번역 루비 대응 목록
- 샘플 CSV2: 에스페란토 어근-한자 대응 목록 (Mingeo님 버전)
- 샘플 CSV3: 에스페란토 어근-한자 대응 목록 (일반 버전)

#### 4.2.2 JSON 파일 준비
두 종류의 JSON 파일을 준비합니다:

1. **에스페란토 단어 어근 분해법 JSON**:
   - 에스페란토 단어를 어떻게 어근 분해할지 설정
   - 어미(동사 활용 어미 등)를 추가한 파생형을 어느 타이밍에 치환할지 설정
   - 샘플 파일: "에스페란토 단어 어근 분해법 사용자 설정"

2. **치환 후 문자열 사용자 설정 JSON**:
   - 특정 단어에 대해 독자적인 한자 또는 특수 표기를 할당할 때 사용
   - 샘플 파일: "치환 후 문자열의 사용자 설정"

각 JSON 파일은 "업로드하기" 또는 "기본값 사용" 중에서 선택할 수 있습니다.

#### 4.2.3 출력 형식 선택
최종 치환 결과의 형식을 선택합니다. 이 설정은 JSON 파일을 사용할 때 지정해야 하는 형식과 일치해야 합니다.

#### 4.2.4 고급 설정 (병렬 처리)
JSON 파일 생성 시 병렬 처리를 활성화하여 속도를 향상시킬 수 있습니다:
- **병렬 처리를 사용**: 체크박스를 선택하여 활성화
- **동시 프로세스 수**: 2~6 사이의 값 선택 (기본값: 5)

#### 4.2.5 JSON 파일 생성 및 다운로드
"치환용 JSON 파일 생성하기" 버튼을 클릭하면 설정에 따라 JSON 파일이 생성됩니다. 생성이 완료되면 다운로드 버튼이 나타나며, 이를 클릭하여 JSON 파일을 저장할 수 있습니다.

---

## 5. 고급 설정

### 5.1 병렬 처리
대용량 텍스트를 처리할 때 시스템의 여러 코어를 활용하여 처리 속도를 향상시킬 수 있습니다:
- 메인 페이지와 JSON 생성 도구 모두에서 사용 가능
- CPU 부하가 높기 때문에 작은 텍스트에는 비활성화하는 것이 좋음
- 프로세스 수는 시스템 성능에 따라 조정 (일반적으로 4~5개가 적절)

### 5.2 특수 마크업 활용
더 세밀한 제어를 위해 특수 마크업을 활용할 수 있습니다:
- **%마크업%**: 치환에서 제외할 부분 지정
- **@마크업@**: 국소적으로만 치환할 부분 지정

### 5.3 사용자 정의 치환 규칙
JSON 생성 도구를 사용하여 다음과 같은 사용자 정의 규칙을 설정할 수 있습니다:
- 에스페란토 어근과 한국어/한자 매핑
- 단어 어근 분해 방법
- 특정 단어에 대한 특수 치환 규칙
- 품사별 처리 방법 (명사, 형용사, 동사 등)

---

## 6. 자주 묻는 질문

### 6.1 에스페란토 특수 문자를 어떻게 입력하나요?
에스페란토 특수 문자는 다음 세 가지 방식으로 입력할 수 있습니다:
- **상단 첨자**: ĉ, ĝ, ĥ, ĵ, ŝ, ŭ (유니코드 직접 입력)
- **x 형식**: cx, gx, hx, jx, sx, ux (x를 붙여 표현)
- **^ 형식**: c^, g^, h^, j^, s^, u^ (^를 붙여 표현)

어떤 형식으로 입력하든 앱이 자동으로 인식하여 처리합니다.

### 6.2 "치환용 JSON 파일"이란 무엇인가요?
치환용 JSON 파일은 에스페란토 어근과 접사를 한국어나 한자로 변환하는 규칙을 담고 있는 파일입니다. 세 가지 주요 요소가 포함되어 있습니다:
- **전역 치환용 리스트**: 일반적인 에스페란토 단어와 어근의 치환 규칙
- **국소 문자 치환용 리스트**: @로 둘러싸인 부분에 대한 치환 규칙
- **2자 어근 치환용 리스트**: 접두사, 접미사 등 2글자 어근에 대한 치환 규칙

### 6.3 출력 형식 중 어떤 것을 선택해야 하나요?
사용 목적에 따라 다른 형식을 선택할 수 있습니다:
- **학습용**: "HTML형식_루비 문자의 크기조정"이 가장 적합합니다. 원문을 유지하면서 위에 의미를 표시합니다.
- **한자 중심 표기**: "HTML형식_루비 문자의 크기조정_한자치환"을 선택하면 한자가 주 텍스트가 됩니다.
- **단순 참조용**: "괄호 형식"은 HTML을 지원하지 않는 환경에서도 사용할 수 있습니다.
- **한자만 표시**: "치환 후 문자열만 유지"는 에스페란토 원문 없이 변환 결과만 표시합니다.

### 6.4 앱에서 처리할 수 있는 텍스트 크기에 제한이 있나요?
기본적으로 웹 브라우저 기반이기 때문에 매우 큰 파일(수십 MB 이상)은 처리가 어려울 수 있습니다. 대용량 텍스트를 처리할 경우:
- 병렬 처리 옵션을 활성화하세요.
- 텍스트를 여러 부분으로 나누어 처리하는 것이 좋습니다.
- 미리보기는 최대 250줄까지만 표시되지만, 전체 결과는 다운로드할 수 있습니다.

### 6.5 자신만의 치환 규칙을 만들려면 어떻게 해야 하나요?
1. 샘플 CSV와 JSON 파일을 다운로드합니다.
2. CSV 파일에 에스페란토 어근과 해당하는 한국어/한자를 추가합니다.
3. 필요한 경우 어근 분해법 JSON을 수정합니다.
4. JSON 생성 도구 페이지에서 이 파일들을 업로드하고 새 JSON 파일을 생성합니다.
5. 생성된 JSON 파일을 메인 페이지에서 사용합니다.

---

이 사용 설명서가 에스페란토 한자 변환 및 루비 주석 도구를 효과적으로 활용하는 데 도움이 되기를 바랍니다. 추가 질문이나 피드백이 있으시면 GitHub 리포지토리를 통해 문의해 주세요.

GitHub 리포지토리: https://github.com/Takatakatake/Esperanto-Kanji-Converter-and-Ruby-Annotation-Tool-